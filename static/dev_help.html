<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Prolog console</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
   
       <!-- Le styles -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the bottom of the topbar */
      }
     </style>
    <link href="css/bootstrap-responsive.min.css" rel="stylesheet">
    <link href="css/my.css" rel="stylesheet">

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="../assets/js/html5shiv.js"></script>
    <![endif]-->


  </head>

  <body>
  <div class="container"  >
 
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
         <div class="container"  >
          <button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
          </button>
            <a class="brand" href="/index.html">PocketOracle</a>
          
          <div class="nav-collapse collapse" style='float:left' >
            <ul class="nav">
            <a class="btn btn-success pull-right greenbtn" href="/index.html">Queue</a>
            </ul>
          </div><!--/.nav-collapse -->
          <div class="nav-collapse collapse" style='float:right' >
            <ul class="nav">
            <a class="btn btn-success pull-right greenbtn" href="#"> Database </a>
            </ul>
          </div>
          
          <div class="nav-collapse collapse" style='float:right' >
            <ul class="nav">
            <a class="btn btn-success pull-right greenbtn" href="#"> Make Expert System </a>
            </ul>
          </div>
          <div class="nav-collapse collapse" style='float:right' >
            <ul class="nav">
            <a class="btn btn-success pull-right greenbtn" href="/console.html"> Advanced </a>
	    </ul>
          </div>
          
          <div class="nav-collapse collapse" style='float:right' >
            <ul class="nav">
	    <a class="btn btn-success pull-right greenbtn" href="/dev_help.html"> API</a> 
	    </ul>
          </div>
	  
	  <div class="nav-collapse collapse" style='float:right' >
            <ul class="nav">
<!--	    <button class="btn  pull-right greenbtn" id='authorizeButton' href="javascript:startRealtime()"> Sig in via Google</button> -->
	    </ul>
          </div>
      
   
   
        </div>
   
        </div>
      </div>



<!--      <div class="hero-unit">-->
<!--      <div class="row">-->
        <h4>Use prolog in your application</h4>
        <p>Our api let you work with your prolog code in our system from your application via REST-interface</p>
        <p>For example you have this code in codeide.com:</p>
<pre>        
parent("FirstHumen", pam).
parent(pam, bob).
parent(tom, bob).
parent(tom, liz).
parent(bob, ann).
parent(bob, pat).
parent(pat, jim).

predecessor(X, Y) :- parent(X, Y).
predecessor(X, Y) :-
	parent(X, Z),
	predecessor(Z, Y).
</pre>
<p>Now, in order to get result for prolog request like this: </p>
<pre>
?- predecessor(X, Y)
</pre>


<p>At first you need load your namspace “my_expert_system”, send http request</p>

<pre>http://codeide.com:8313/prolog/auth/my_expert_system</pre>
<p>
Permissions to your namespace is avalible only from ip that you have gave us before :
</p>


You need  to send such http-request  : 
<pre>
curl -d "params=[{\"name\":\"X\"}, {\"name\":\"Y\"}  ]"   http://codeide.com:8313/prolog/create/predecessor
curl -d "params=[{\"name\":\"X\"}, {\"atom\":\"bob\"}  ]"   http://codeide.com:8313/prolog/create/predecessor
curl -d "params=[\"FirstHumen\", {\"name\":\"Y\"}  ]"   http://codeide.com:8313/prolog/create/predecessor

</pre>
<p> POST "params" contain json array of arguments for aim "predecessor",</p>
<p> If you want use unbound variables X or Y </p>
<p> you must set it like  a json  object {"name":"X"}, where X is name of variable, which you want use in prolog  </p>
<p> for atoms use object like this {"atom":"bob"} </p>
<p> in other cases lists, strings and numbers use constants </p>
<p> If everything is good, you will receive response json  <p>
<pre>
{"status":"ok","session":"12esf32453"} 
or
{"status":"fail","description":"some description of mistake"} 
</pre>
<p>Our kernel start process  your request  </p>
<p>For working with thise process you have three commands</p>

<pre>
curl     http://codeide.com:8313/prolog/process/12esf32453 # for checking results
curl     http://codeide.com:8313/prolog/next/12esf32453 # for find next solution of prolog work
curl     http://codeide.com:8313/prolog/finish/12esf32453 # for finish process of working
</pre>
<p>First request will return to you json with bounded variables of your request</p>
<pre>
{"status":true, result:[ {"X": {"atom": "pat" }} , {"Y": {"atom":"jim"}} ] } # for first example 
{"status":true, result:[ {"X": {"atom": "tom" } }] } # for second example
{"status":true, result:[{"Y": {"atom": "pam" }   }] } # for third example
</pre>
<p>
If aim was not reached any solution the response will be :
</p>

<pre>
{"status":false, result:[ ] }
</pre>

<p> After you are able  ask Prolog to find another solution by sending</p>
<pre>
curl     http://codeide.com:8313/prolog/next/12esf32453 
</pre>
<p>or you can finish work</p>
<pre>
curl     http://codeide.com:8313/prolog/finish/12esf32453 
</pre>
<p>Session is created per each reqest and it will be deleted after finishing request  </p>
<p>As you noticed, all work  is asynchronous</p>
<p>You do not need load namespace after each aim request, you can do it only once</p>






</div>


   
    </div>

    <!-- /container -->

    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="js/jquery1.9.1.min.js"></script>
    <script src="js/bootstrap.min.js"></script>



</body>
</html>
